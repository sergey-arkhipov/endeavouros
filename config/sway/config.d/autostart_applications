# Auth with polkit-gnome:
exec /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1

# Import environment variables for user systemd service manager
exec systemctl --user import-environment DISPLAY WAYLAND_DISPLAY SWAYSOCK XDG_CURRENT_DESKTOP

# Update dbus environments with display variables
exec hash dbus-update-activation-environment 2>/dev/null && \
     dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY SWAYSOCK XDG_CURRENT_DESKTOP=sway

# Idle configuration
# exec swayidle idlehint 1
# exec_always swayidle -w before-sleep "gtklock -d"
# Тестовый конфиг (20 секунд)
# set $lock_screen swaylock -c 000000 --ring-color 7f3fbf --inside-color 000000 --show-keyboard-layout --indicator-radius 100
set $lock_screen swaylock -c 000000 --ring-color 7f3fbf --inside-color 000000 --show-keyboard-layout --indicator-radius 100

exec swayidle -w \
     timeout 300 'swaylock -f --color 111111 --show-keyboard-layout --indicator-caps-lock --indicator-radius 100' \
     timeout 400 'swaymsg "output * power off"' \
     resume 'swaymsg "output * power on"' \
     before-sleep 'swaylock -f --color 111111 --show-keyboard-layout --indicator-caps-lock --indicator-radius 100'

# exec_always swayidle -w before-sleep "$lock_screen"

#
# bindswitch lid:on exec $lock_screen
# Desktop notifications
exec mako

# Start foot server
# exec_always --no-startup-id foot --server

# Autotiling
exec autotiling

# cliphist
exec wl-paste --type text --watch cliphist store
exec wl-paste --type image --watch cliphist store
     
# Network Applet
exec nm-applet --indicator

# Firewall Applet
# exec sleep 2 && firewall-applet

# Welcome App
exec eos-welcome --startdelay=3

# Sway Fader
# exec python3 ~/.config/sway/scripts/swayfader.py

# nwg-drawer
exec_always nwg-drawer -r -c 7 -is 90 -mb 10 -ml 50 -mr 50 -mt 10

